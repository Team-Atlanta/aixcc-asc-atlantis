OBJS := out/libfunc.o out/CVE-2023-31248.o
BIN := out/CVE-2023-31248

all: $(BIN)

out/CVE-2023-31248: $(OBJS) | out
	$(CC) $(CFLAGS) $(OBJS) -o $@ -lmnl -lnftnl

out/%.o: %.c | out
	$(CC) -c $(CFLAGS) -o "$@" "$<"

clean:
	rm -rf out

out:
	mkdir -p out

.PHONY: all clean
