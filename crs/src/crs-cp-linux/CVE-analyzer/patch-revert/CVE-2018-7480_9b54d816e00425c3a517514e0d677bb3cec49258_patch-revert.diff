diff --git a/block/blk-cgroup.c b/block/blk-cgroup.c
index 295e98c2c8cc..37fe595cfd70 100644
--- a/block/blk-cgroup.c
+++ b/block/blk-cgroup.c
@@ -1079,8 +1079,10 @@ int blkcg_init_queue(struct request_queue *q)
 	if (preloaded)
 		radix_tree_preload_end();
 
-	if (IS_ERR(blkg))
+	if (IS_ERR(blkg)) {
+		blkg_free(new_blkg);
 		return PTR_ERR(blkg);
+	}
 
 	q->root_blkg = blkg;
 	q->root_rl.blkg = blkg;
