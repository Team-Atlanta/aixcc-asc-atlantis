diff --git a/mm/slab.c b/mm/slab.c
index 4f2ec6bb46eb..29bc6c0dedd0 100644
--- a/mm/slab.c
+++ b/mm/slab.c
@@ -2457,6 +2457,7 @@ union freelist_init_state {
 		unsigned int pos;
 		unsigned int *list;
 		unsigned int count;
+		unsigned int rand;
 	};
 	struct rnd_state rnd_state;
 };
@@ -2482,7 +2483,8 @@ static bool freelist_state_initialize(union freelist_init_state *state,
 	} else {
 		state->list = cachep->random_seq;
 		state->count = count;
-		state->pos = rand % count;
+		state->pos = 0;
+		state->rand = rand;
 		ret = true;
 	}
 	return ret;
@@ -2491,9 +2493,7 @@ static bool freelist_state_initialize(union freelist_init_state *state,
 /* Get the next entry on the list and randomize it using a random shift */
 static freelist_idx_t next_random_slot(union freelist_init_state *state)
 {
-	if (state->pos >= state->count)
-		state->pos = 0;
-	return state->list[state->pos++];
+	return (state->list[state->pos++] + state->rand) % state->count;
 }
 
 /* Swap two freelist entries */
