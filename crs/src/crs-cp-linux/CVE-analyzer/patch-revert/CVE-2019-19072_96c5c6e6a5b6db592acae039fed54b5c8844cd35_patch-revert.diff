diff --git a/kernel/trace/trace_events_filter.c b/kernel/trace/trace_events_filter.c
index c9a74f82b14a..c773b8fb270c 100644
--- a/kernel/trace/trace_events_filter.c
+++ b/kernel/trace/trace_events_filter.c
@@ -452,10 +452,8 @@ predicate_parse(const char *str, int nr_parens, int nr_preds,
 
 		switch (*next) {
 		case '(':					/* #2 */
-			if (top - op_stack > nr_parens) {
-				ret = -EINVAL;
-				goto out_free;
-			}
+			if (top - op_stack > nr_parens)
+				return ERR_PTR(-EINVAL);
 			*(++top) = invert;
 			continue;
 		case '!':					/* #3 */
