diff --git a/mm/mempolicy.c b/mm/mempolicy.c
index 618ab125228b..d911fa5cb2a7 100644
--- a/mm/mempolicy.c
+++ b/mm/mempolicy.c
@@ -861,6 +861,11 @@ static long do_get_mempolicy(int *policy, nodemask_t *nmask,
 		*policy |= (pol->flags & MPOL_MODE_FLAGS);
 	}
 
+	if (vma) {
+		up_read(&current->mm->mmap_sem);
+		vma = NULL;
+	}
+
 	err = 0;
 	if (nmask) {
 		if (mpol_store_user_nodemask(pol)) {
